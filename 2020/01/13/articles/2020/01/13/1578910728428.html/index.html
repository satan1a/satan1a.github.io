<!DOCTYPE html>
<html lang=en>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="移动应用程序渗透Android系统架构与运行机制 应用层(System Apps)用户接触的，应用软件方面的  应用架构层(Application Framework, API)系统开发的，API方面的例如有以下的这些管理器：活动管理位置管理器包管理器通知管理器资源管理器…    系统运行库层(Native)分为两部分，分别是C&#x2F;C++程序库和Android运行时（Runtime）库  硬件抽象层">
<meta property="og:type" content="article">
<meta property="og:title" content="移动应用程序渗透">
<meta property="og:url" content="https://y1ng.org/2020/01/13/articles/2020/01/13/1578910728428.html/index.html">
<meta property="og:site_name" content="喵了个咪乎 Cat My Dog">
<meta property="og:description" content="移动应用程序渗透Android系统架构与运行机制 应用层(System Apps)用户接触的，应用软件方面的  应用架构层(Application Framework, API)系统开发的，API方面的例如有以下的这些管理器：活动管理位置管理器包管理器通知管理器资源管理器…    系统运行库层(Native)分为两部分，分别是C&#x2F;C++程序库和Android运行时（Runtime）库  硬件抽象层">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://image-host-toky.oss-cn-shanghai.aliyuncs.com/20200113101308.png">
<meta property="og:image" content="https://image-host-toky.oss-cn-shanghai.aliyuncs.com/20200113114711.png">
<meta property="og:image" content="https://image-host-toky.oss-cn-shanghai.aliyuncs.com/20200113115509.png">
<meta property="og:image" content="https://image-host-toky.oss-cn-shanghai.aliyuncs.com/20200113143540.png">
<meta property="og:image" content="https://image-host-toky.oss-cn-shanghai.aliyuncs.com/20200113142347.png">
<meta property="og:image" content="https://image-host-toky.oss-cn-shanghai.aliyuncs.com/20200113142544.png">
<meta property="og:image" content="https://image-host-toky.oss-cn-shanghai.aliyuncs.com/20200113142941.png">
<meta property="og:image" content="https://image-host-toky.oss-cn-shanghai.aliyuncs.com/20200113154905.png">
<meta property="og:image" content="https://image-host-toky.oss-cn-shanghai.aliyuncs.com/20200113154924.png">
<meta property="og:image" content="https://image-host-toky.oss-cn-shanghai.aliyuncs.com/20200113162245.png">
<meta property="og:image" content="https://image-host-toky.oss-cn-shanghai.aliyuncs.com/20200113171058.png">
<meta property="og:image" content="https://image-host-toky.oss-cn-shanghai.aliyuncs.com/20200113171136.png">
<meta property="og:image" content="https://image-host-toky.oss-cn-shanghai.aliyuncs.com/20200113171301.png">
<meta property="og:image" content="https://image-host-toky.oss-cn-shanghai.aliyuncs.com/20200113171434.png">
<meta property="og:image" content="https://image-host-toky.oss-cn-shanghai.aliyuncs.com/20200113171926.png">
<meta property="og:image" content="https://image-host-toky.oss-cn-shanghai.aliyuncs.com/20200113173105.png">
<meta property="og:image" content="https://image-host-toky.oss-cn-shanghai.aliyuncs.com/20200113173028.png">
<meta property="article:published_time" content="2020-01-13T10:18:48.000Z">
<meta property="article:modified_time" content="2020-01-13T10:21:06.000Z">
<meta property="article:author" content="Toky">
<meta property="article:tag" content="安全综合">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://image-host-toky.oss-cn-shanghai.aliyuncs.com/20200113101308.png">
    
    
        
          
              <link rel="shortcut icon" href="/images/favicon.ico">
          
        
        
          
            <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
          
        
        
          
            <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
          
        
    
    <!-- title -->
    <title>移动应用程序渗透</title>
    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
      
<link rel="stylesheet" href="/css/rtl.css">

    
    <!-- rss -->
    
    
<meta name="generator" content="Hexo 4.2.1"><link rel="alternate" href="/atom.xml" title="喵了个咪乎 Cat My Dog" type="application/atom+xml">
</head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="/tags">Tags</a></li>
         
          <li><a href="/categories">Categories</a></li>
         
          <li><a href="https://y1ng.cc/" target="_blank" rel="noopener">BBS</a></li>
         
          <li><a href="https://y1ng.org/TheRoadOfSO/">安全运营之路</a></li>
         
          <li><a href="/atom.xml">RSS</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" href="/2020/01/15/%E7%A7%BB%E5%8A%A8%E6%81%B6%E6%84%8F%E4%BB%A3%E7%A0%81%E5%88%86%E6%9E%90%E5%8F%8A%E5%A8%81%E8%83%81%E6%83%85%E6%8A%A5/"><i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" href="/2020/01/03/Artificial_Intelligence_of_Things%20(AIoT)/"><i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" href="#"><i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=https://y1ng.org/2020/01/13/articles/2020/01/13/1578910728428.html/" target="_blank" rel="noopener"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=https://y1ng.org/2020/01/13/articles/2020/01/13/1578910728428.html/&text=移动应用程序渗透" target="_blank" rel="noopener"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https://y1ng.org/2020/01/13/articles/2020/01/13/1578910728428.html/&title=移动应用程序渗透" target="_blank" rel="noopener"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https://y1ng.org/2020/01/13/articles/2020/01/13/1578910728428.html/&is_video=false&description=移动应用程序渗透" target="_blank" rel="noopener"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=移动应用程序渗透&body=Check out this article: https://y1ng.org/2020/01/13/articles/2020/01/13/1578910728428.html/"><i class="fas fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=https://y1ng.org/2020/01/13/articles/2020/01/13/1578910728428.html/&title=移动应用程序渗透" target="_blank" rel="noopener"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=https://y1ng.org/2020/01/13/articles/2020/01/13/1578910728428.html/&title=移动应用程序渗透" target="_blank" rel="noopener"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=https://y1ng.org/2020/01/13/articles/2020/01/13/1578910728428.html/&title=移动应用程序渗透" target="_blank" rel="noopener"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=https://y1ng.org/2020/01/13/articles/2020/01/13/1578910728428.html/&title=移动应用程序渗透" target="_blank" rel="noopener"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=https://y1ng.org/2020/01/13/articles/2020/01/13/1578910728428.html/&name=移动应用程序渗透&description=" target="_blank" rel="noopener"><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://news.ycombinator.com/submitlink?u=https://y1ng.org/2020/01/13/articles/2020/01/13/1578910728428.html/&t=移动应用程序渗透" target="_blank" rel="noopener"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#移动应用程序渗透"><span class="toc-number">1.</span> <span class="toc-text">移动应用程序渗透</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Android系统架构与运行机制"><span class="toc-number">1.1.</span> <span class="toc-text">Android系统架构与运行机制</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Android运行机制"><span class="toc-number">1.2.</span> <span class="toc-text">Android运行机制</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Android应用渗透测试与调试"><span class="toc-number">2.</span> <span class="toc-text">Android应用渗透测试与调试</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#工具使用"><span class="toc-number">2.0.1.</span> <span class="toc-text">工具使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#文件格式"><span class="toc-number">2.0.2.</span> <span class="toc-text">文件格式</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Android应用渗透测试——客户端数据安全"><span class="toc-number">2.1.</span> <span class="toc-text">Android应用渗透测试——客户端数据安全</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#安装包签名校验"><span class="toc-number">2.1.1.</span> <span class="toc-text">安装包签名校验</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#如何校验"><span class="toc-number">2.1.1.1.</span> <span class="toc-text">如何校验</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#客户端程序保护"><span class="toc-number">2.1.2.</span> <span class="toc-text">客户端程序保护</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#反编译为Java代码"><span class="toc-number">2.1.2.1.</span> <span class="toc-text">反编译为Java代码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#反编译为smali代码"><span class="toc-number">2.1.2.2.</span> <span class="toc-text">反编译为smali代码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#如何阅读smali代码"><span class="toc-number">2.1.2.3.</span> <span class="toc-text">如何阅读smali代码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#应用完整性校验"><span class="toc-number">2.1.2.4.</span> <span class="toc-text">应用完整性校验</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Android应用渗透测试——组件安全"><span class="toc-number">2.2.</span> <span class="toc-text">Android应用渗透测试——组件安全</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#判断组件的可导出性"><span class="toc-number">2.2.1.</span> <span class="toc-text">判断组件的可导出性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#使用Drozer对四大组件进行组件攻击"><span class="toc-number">2.2.2.</span> <span class="toc-text">使用Drozer对四大组件进行组件攻击</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#工具：drozer"><span class="toc-number">2.2.2.1.</span> <span class="toc-text">工具：drozer</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Activity"><span class="toc-number">2.2.2.2.</span> <span class="toc-text">Activity</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Service"><span class="toc-number">2.2.2.3.</span> <span class="toc-text">Service</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Broadcast-Reciever（广播接收器）"><span class="toc-number">2.2.2.4.</span> <span class="toc-text">Broadcast Reciever（广播接收器）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Content-Provider"><span class="toc-number">2.2.2.5.</span> <span class="toc-text">Content Provider</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#原理和4种拒绝服务攻击"><span class="toc-number">2.2.2.6.</span> <span class="toc-text">原理和4种拒绝服务攻击</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#扩展"><span class="toc-number">2.2.2.7.</span> <span class="toc-text">扩展</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Android应用渗透测试——WebView"><span class="toc-number">2.3.</span> <span class="toc-text">Android应用渗透测试——WebView</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#WebView-任意代码执行"><span class="toc-number">2.3.1.</span> <span class="toc-text">WebView 任意代码执行</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#WebView-密码明文存储"><span class="toc-number">2.3.2.</span> <span class="toc-text">WebView 密码明文存储</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#WebView-域控制不严格"><span class="toc-number">2.3.3.</span> <span class="toc-text">WebView 域控制不严格</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Android应用渗透测试——敏感信息安全"><span class="toc-number">2.4.</span> <span class="toc-text">Android应用渗透测试——敏感信息安全</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#检查配置文件"><span class="toc-number">2.4.1.</span> <span class="toc-text">检查配置文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#检查客户端程序包-APK-中是否保存有敏感信息"><span class="toc-number">2.4.2.</span> <span class="toc-text">检查客户端程序包(APK)中是否保存有敏感信息</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Android应用渗透测试——进程安全"><span class="toc-number">2.5.</span> <span class="toc-text">Android应用渗透测试——进程安全</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#内存访问和修改"><span class="toc-number">2.5.1.</span> <span class="toc-text">内存访问和修改</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#本地端口开放检测"><span class="toc-number">2.5.2.</span> <span class="toc-text">本地端口开放检测</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#外部动态加载DEX安全风险"><span class="toc-number">2.5.3.</span> <span class="toc-text">外部动态加载DEX安全风险</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Android应用渗透测试——通信安全"><span class="toc-number">2.6.</span> <span class="toc-text">Android应用渗透测试——通信安全</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#抓包"><span class="toc-number">2.6.1.</span> <span class="toc-text">抓包</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#http协议"><span class="toc-number">2.6.2.</span> <span class="toc-text">http协议</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#https"><span class="toc-number">2.6.3.</span> <span class="toc-text">https</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#证书未校验"><span class="toc-number">2.6.3.1.</span> <span class="toc-text">证书未校验</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#证书部分校验"><span class="toc-number">2.6.3.2.</span> <span class="toc-text">证书部分校验</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#https双向校验-TODO"><span class="toc-number">2.6.3.3.</span> <span class="toc-text">https双向校验[TODO]</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#扩展-1"><span class="toc-number">2.6.3.4.</span> <span class="toc-text">扩展-1</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#移动应用数据包常见加密形式"><span class="toc-number">2.6.4.</span> <span class="toc-text">移动应用数据包常见加密形式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#明文数据包"><span class="toc-number">2.6.4.1.</span> <span class="toc-text">明文数据包</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#参数值加密"><span class="toc-number">2.6.4.2.</span> <span class="toc-text">参数值加密</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#POST-BODY加密"><span class="toc-number">2.6.4.3.</span> <span class="toc-text">POST BODY加密</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#参数序列化"><span class="toc-number">2.6.4.4.</span> <span class="toc-text">参数序列化</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Response加密"><span class="toc-number">2.6.4.5.</span> <span class="toc-text">Response加密</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#定位关键代码"><span class="toc-number">2.6.5.</span> <span class="toc-text">定位关键代码</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#静态分析"><span class="toc-number">2.6.5.1.</span> <span class="toc-text">静态分析</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#扩展-2"><span class="toc-number">2.6.5.2.</span> <span class="toc-text">扩展-2</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Android应用渗透测试——业务安全"><span class="toc-number">2.7.</span> <span class="toc-text">Android应用渗透测试——业务安全</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#如何找客户端漏洞？"><span class="toc-number">2.8.</span> <span class="toc-text">如何找客户端漏洞？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Android应用渗透测试——应用调试"><span class="toc-number">2.9.</span> <span class="toc-text">Android应用渗透测试——应用调试</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#调试Smali"><span class="toc-number">2.9.1.</span> <span class="toc-text">调试Smali</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#调试native"><span class="toc-number">2.9.2.</span> <span class="toc-text">调试native</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#分析点"><span class="toc-number">2.9.3.</span> <span class="toc-text">分析点</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#移动应用程序渗透测试框架使用"><span class="toc-number">2.10.</span> <span class="toc-text">移动应用程序渗透测试框架使用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Xposed框架"><span class="toc-number">2.10.1.</span> <span class="toc-text">Xposed框架</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#安装及配置"><span class="toc-number">2.10.1.1.</span> <span class="toc-text">安装及配置</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Xposed运行原理-TODO"><span class="toc-number">2.10.1.2.</span> <span class="toc-text">Xposed运行原理[TODO]</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#如何写一个Xposed插件-TODO"><span class="toc-number">2.10.1.3.</span> <span class="toc-text">如何写一个Xposed插件[TODO]</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Frida框架-TODO"><span class="toc-number">2.10.2.</span> <span class="toc-text">Frida框架[TODO]</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Frida实验1——破解登入密码"><span class="toc-number">2.10.2.1.</span> <span class="toc-text">Frida实验1——破解登入密码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Frida实验2——解密"><span class="toc-number">2.10.2.2.</span> <span class="toc-text">Frida实验2——解密</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#扩展-1-1"><span class="toc-number">2.10.2.3.</span> <span class="toc-text">扩展-1</span></a></li></ol></li></ol></li></ol></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index py4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        移动应用程序渗透
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">喵了个咪乎 Cat My Dog</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2020-01-13T10:18:48.000Z" itemprop="datePublished">2020-01-13</time>
        
      
    </div>


      

      
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link" href="/tags/%E5%AE%89%E5%85%A8%E7%BB%BC%E5%90%88/" rel="tag">安全综合</a>
    </div>


    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <h1 id="移动应用程序渗透"><a href="#移动应用程序渗透" class="headerlink" title="移动应用程序渗透"></a>移动应用程序渗透</h1><h2 id="Android系统架构与运行机制"><a href="#Android系统架构与运行机制" class="headerlink" title="Android系统架构与运行机制"></a>Android系统架构与运行机制</h2><ol>
<li><p>应用层(System Apps)<br>用户接触的，应用软件方面的</p>
</li>
<li><p>应用架构层(Application Framework, API)<br>系统开发的，API方面的<br>例如有以下的这些管理器：<br>活动管理<br>位置管理器<br>包管理器<br>通知管理器<br>资源管理器…  </p>
</li>
<li><p>系统运行库层(Native)<br>分为两部分，分别是C/C++程序库和Android运行时（Runtime）库<br><img src="https://image-host-toky.oss-cn-shanghai.aliyuncs.com/20200113101308.png"></p>
</li>
<li><p>硬件抽象层(HAL)<br>～位于操作系统内核与硬件电器之间的接口层，其目的在于将硬件抽象化</p>
</li>
<li><p>Linux内核层(Linux Kernel)</p>
</li>
</ol>
<h2 id="Android运行机制"><a href="#Android运行机制" class="headerlink" title="Android运行机制"></a>Android运行机制</h2><p>1.简化版：init启动 —— Zygnote进程启动—— Systemserver进程启动</p>
<p>2.Init启动<br>总：电源键——系统启动——bootlooder——Linux内核——init进程启动</p>
<ul>
<li>在启动init进程中，会进入<code>system/core/init/init.cpp</code>文件的main方法中</li>
<li>创建和挂载目录</li>
<li>初始化和启动属性服务（键对值）<br>Linux内核——盘古，开天地，产生女娲（Zygote）</li>
</ul>
<p>3.Zygote进程启动（被称为孵化器，一切的开始）<br>总：app_main——AndroidRuntime——Zygoteinit  </p>
<ul>
<li>socket</li>
<li>加载了一些类</li>
<li>启动systemserver类<br>Zygote——女娲，造出亚当（SystemServer）</li>
</ul>
<p>4.SystemServer进程启动</p>
<ul>
<li>frameworks/base/core/java/com/android/intermal/os/Zygote,.java</li>
<li>frameworks/base/core/java/com/android/intermal/os/RuntimeInit.java</li>
<li>frameworks/base/core/java/com/android/server/SystemServer.java  这个是各种进程的父类<br>SystemServer——亚当，用肋骨造夏娃（其他进程）</li>
</ul>
<h1 id="Android应用渗透测试与调试"><a href="#Android应用渗透测试与调试" class="headerlink" title="Android应用渗透测试与调试"></a>Android应用渗透测试与调试</h1><h3 id="工具使用"><a href="#工具使用" class="headerlink" title="工具使用"></a>工具使用</h3><ol>
<li>Android Debug Bridge(ADB，要添加到系统环境变量)<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">adb kille-server</span><br><span class="line">adb start-server</span><br><span class="line">adb root</span><br><span class="line"><span class="comment"># push 把文件从电脑推送到Android上</span></span><br><span class="line">adb push</span><br><span class="line"><span class="comment"># pull 把文件从Android下载到电脑上</span></span><br><span class="line">adb pull</span><br><span class="line">adb connect</span><br><span class="line">adb shell</span><br><span class="line">adb install -t</span><br><span class="line"><span class="comment"># 查看日志</span></span><br><span class="line">adb logcat</span><br><span class="line"><span class="comment"># 应用截屏</span></span><br><span class="line">adb <span class="built_in">exec</span>-out screencap -p &gt; sc.png</span><br></pre></td></tr></table></figure></li>
<li>Apktool（Smali语言，打包，解包）</li>
<li>Frida（可以把自己的脚本注入到应用程序的运行进程中）</li>
<li>Jadx（一件反编译，反编译为Java代码；可以在GitHub上下载）</li>
<li>Android Studio（如何写Xpose插件；logcat，找flag）</li>
<li>Android Killer</li>
</ol>
<h3 id="文件格式"><a href="#文件格式" class="headerlink" title="文件格式"></a>文件格式</h3><ol>
<li>Lib——程序依赖的native库<br>一般会有三类：</li>
</ol>
<ul>
<li>arm</li>
<li>arm-v7a</li>
<li>x86<br>根据不同的虚拟机版本，下载Xpose框架（酷安；官网），注意不同的框架是使用不同的汇编等方式的</li>
</ul>
<ol start="2">
<li>META-INF目录——存放应用程序签名和证书的目录</li>
<li>Res目录——存放应用程序的资源</li>
<li>AndroidMainfest.xml——应用程序的配置文件<br>相当于书本的目录，上面有很多的信息</li>
<li>Classes.dex——Dex可执行文件</li>
<li>Resource.arsc——资源配置文件</li>
</ol>
<h2 id="Android应用渗透测试——客户端数据安全"><a href="#Android应用渗透测试——客户端数据安全" class="headerlink" title="Android应用渗透测试——客户端数据安全"></a>Android应用渗透测试——客户端数据安全</h2><h3 id="安装包签名校验"><a href="#安装包签名校验" class="headerlink" title="安装包签名校验"></a>安装包签名校验</h3><h4 id="如何校验"><a href="#如何校验" class="headerlink" title="如何校验"></a>如何校验</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ jarsigner -verify APK_PATH</span><br></pre></td></tr></table></figure>
<p>主要提供完整性integrity的保护</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ jarsigner -verify -verbose -certs APK_PATH</span><br></pre></td></tr></table></figure>
<p>使用Google提供的开发者签名进行重签名。<br>要读懂Java代码，Smali代码。</p>
<h3 id="客户端程序保护"><a href="#客户端程序保护" class="headerlink" title="客户端程序保护"></a>客户端程序保护</h3><h4 id="反编译为Java代码"><a href="#反编译为Java代码" class="headerlink" title="反编译为Java代码"></a>反编译为Java代码</h4><p>使用jadx，Androidkiller（综合使用前两者，但不能同时打开同一个文件），jeb等工具进行反编译</p>
<h4 id="反编译为smali代码"><a href="#反编译为smali代码" class="headerlink" title="反编译为smali代码"></a>反编译为smali代码</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ apktool d APK_PATH</span><br><span class="line">$ apktool b Uncompressed_APK_PATH</span><br></pre></td></tr></table></figure>
<h4 id="如何阅读smali代码"><a href="#如何阅读smali代码" class="headerlink" title="如何阅读smali代码"></a>如何阅读smali代码</h4><p>对比Java学习</p>
<p>smali类型</p>
<p>smali对象</p>
<p>smali</p>
<figure class="highlight smali"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># smali注释</span></span><br><span class="line"><span class="keyword">.method</span> 表示方法开始</span><br><span class="line"><span class="keyword">.local</span> 1 表示locals的寄存器数量</span><br><span class="line"><span class="keyword">.line</span> 8 表示对于的Java代码行数</span><br><span class="line">invoke-XXX 表示各种方法</span><br><span class="line">invoke-super(p0,p1) p0,p1表示寄存器</span><br></pre></td></tr></table></figure>

<p><img src="https://image-host-toky.oss-cn-shanghai.aliyuncs.com/20200113114711.png"><br>图：smali代码阅读示例  </p>
<h4 id="应用完整性校验"><a href="#应用完整性校验" class="headerlink" title="应用完整性校验"></a>应用完整性校验</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">aoktool d APK_PATH</span><br></pre></td></tr></table></figure>
<p>注意res/文件夹</p>
<h2 id="Android应用渗透测试——组件安全"><a href="#Android应用渗透测试——组件安全" class="headerlink" title="Android应用渗透测试——组件安全"></a>Android应用渗透测试——组件安全</h2><h3 id="判断组件的可导出性"><a href="#判断组件的可导出性" class="headerlink" title="判断组件的可导出性"></a>判断组件的可导出性</h3><ol>
<li>根据AndroidMainfest.xml，判断以下组件是否可以导出<img src="https://image-host-toky.oss-cn-shanghai.aliyuncs.com/20200113115509.png" style="zoom: 33%;" />


</li>
</ol>
<h3 id="使用Drozer对四大组件进行组件攻击"><a href="#使用Drozer对四大组件进行组件攻击" class="headerlink" title="使用Drozer对四大组件进行组件攻击"></a>使用Drozer对四大组件进行组件攻击</h3><h4 id="工具：drozer"><a href="#工具：drozer" class="headerlink" title="工具：drozer"></a>工具：drozer</h4><p>根据PPT中的代码进行实验测试。<br><a href="https://blog.csdn.net/jianglianye21/article/details/80667346" target="_blank" rel="noopener">https://blog.csdn.net/jianglianye21/article/details/80667346</a></p>
<h4 id="Activity"><a href="#Activity" class="headerlink" title="Activity"></a>Activity</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 使用工具drozer，自动会进行DoS攻击</span></span><br><span class="line">$ run app.activity.info -a packagename</span><br></pre></td></tr></table></figure>

<h4 id="Service"><a href="#Service" class="headerlink" title="Service"></a>Service</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ run app.service.info -a packagename</span><br></pre></td></tr></table></figure>

<h4 id="Broadcast-Reciever（广播接收器）"><a href="#Broadcast-Reciever（广播接收器）" class="headerlink" title="Broadcast Reciever（广播接收器）"></a>Broadcast Reciever（广播接收器）</h4><p>e.g. 电池电量低的提示</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ run app.broadcast.info -a packagename</span><br></pre></td></tr></table></figure>

<h4 id="Content-Provider"><a href="#Content-Provider" class="headerlink" title="Content Provider"></a>Content Provider</h4><p>可能存在目录遍历漏洞，SQL注入漏洞</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ run app.provider.info -a packagename</span><br><span class="line"><span class="comment"># 检测SQL注入（SQLite）</span></span><br><span class="line">$ run scanner.provider.injection -a com.mwr.example.sieve</span><br><span class="line"><span class="comment"># 检测目录遍历</span></span><br><span class="line">$ run scanner.provider.traversal -a com.mwr.example.sieve</span><br></pre></td></tr></table></figure>

<h4 id="原理和4种拒绝服务攻击"><a href="#原理和4种拒绝服务攻击" class="headerlink" title="原理和4种拒绝服务攻击"></a>原理和4种拒绝服务攻击</h4><p>intent本身可以在不同组件间调用[TODO]</p>
<ol>
<li>intent本地DoS攻击检测<br>getIntent()<br>Intent.getXXXExtra()</li>
<li>4种拒绝服务攻击的类型</li>
</ol>
<p>[TODO]</p>
<ul>
<li>NullPointerException异常导致的拒绝服务<br><img src="https://image-host-toky.oss-cn-shanghai.aliyuncs.com/20200113143540.png"></li>
<li>ClassCastException异常导致的拒绝服务</li>
<li>ClassNotFoundException异常导致的拒绝服务</li>
<li>IndexOutOfBoundsException异常导致的拒绝服务</li>
</ul>
<h4 id="扩展"><a href="#扩展" class="headerlink" title="扩展"></a>扩展</h4><p>扩：学习smali代码时，可以结合实例直接阅读学习，不建议从头开始学</p>
<p>扩：渗透测试的主要方向：</p>
<ol>
<li>通过研读本地应用程序（黑/白盒测试）</li>
<li>通过网络抓包进行分析</li>
</ol>
<p>扩：找到能导出的各个组件，一一确认其安全性</p>
<h2 id="Android应用渗透测试——WebView"><a href="#Android应用渗透测试——WebView" class="headerlink" title="Android应用渗透测试——WebView"></a>Android应用渗透测试——WebView</h2><p>如何检测和判断[TODO ]</p>
<h3 id="WebView-任意代码执行"><a href="#WebView-任意代码执行" class="headerlink" title="WebView 任意代码执行"></a>WebView 任意代码执行</h3><p>漏洞点：addJavaScriptInterface()<br><img src="https://image-host-toky.oss-cn-shanghai.aliyuncs.com/20200113142347.png"></p>
<h3 id="WebView-密码明文存储"><a href="#WebView-密码明文存储" class="headerlink" title="WebView 密码明文存储"></a>WebView 密码明文存储</h3><p><img src="https://image-host-toky.oss-cn-shanghai.aliyuncs.com/20200113142544.png"><br>使用方法：Sqlite databases broswer，可以把密码明文可视化显示</p>
<h3 id="WebView-域控制不严格"><a href="#WebView-域控制不严格" class="headerlink" title="WebView 域控制不严格"></a>WebView 域控制不严格</h3><p>域校验不严格，跨过同源策略进行跨域访问<br>setAllowFileAccess<br>setAllowFileAccessFromFileURLs<br>setAllowUniversalAccessFromFileURL<br><img src="https://image-host-toky.oss-cn-shanghai.aliyuncs.com/20200113142941.png" style="zoom:50%;" /></p>
<h2 id="Android应用渗透测试——敏感信息安全"><a href="#Android应用渗透测试——敏感信息安全" class="headerlink" title="Android应用渗透测试——敏感信息安全"></a>Android应用渗透测试——敏感信息安全</h2><p>CTF中可能比较重要的出题点</p>
<h3 id="检查配置文件"><a href="#检查配置文件" class="headerlink" title="检查配置文件"></a>检查配置文件</h3><p>CTF的重点检查内容</p>
<ol>
<li>检查客户端程序存储在手机中的 SharedPreferences 配置文件</li>
<li>检查客户端程序存储在手机中的 SQLite 数据库文件</li>
<li>检查客户端程序存储在手机中的 SharedPreferences 配置文件，在检测 SQLite 数据库文件，在私有目录及其子目录下查找以.db 结尾的数据库文件。<br>通常是对本目录(data/data/packagename)下的文件内容 (一般是 xml)进行检查，看是否包含敏感信息。</li>
</ol>
<h3 id="检查客户端程序包-APK-中是否保存有敏感信息"><a href="#检查客户端程序包-APK-中是否保存有敏感信息" class="headerlink" title="检查客户端程序包(APK)中是否保存有敏感信息"></a>检查客户端程序包(APK)中是否保存有敏感信息</h3><ol>
<li>证书文件</li>
<li>逻辑js文件</li>
<li>图片文件</li>
<li>其他文件(把文件存储到SD卡，或者不是同一个package下)</li>
<li>logcat日志（AS上使用，并且安装Xinstaller）</li>
</ol>
<h2 id="Android应用渗透测试——进程安全"><a href="#Android应用渗透测试——进程安全" class="headerlink" title="Android应用渗透测试——进程安全"></a>Android应用渗透测试——进程安全</h2><h3 id="内存访问和修改"><a href="#内存访问和修改" class="headerlink" title="内存访问和修改"></a>内存访问和修改</h3><p>安装插件Memspector [TODO]</p>
<p>通过对客户端内存的访问，有可能会得到保存在内存中的敏感信 息(如登录密码，帐号等)。测试客户端内存中是否存在的敏感信息(卡号、明文密码等等)。</p>
<h3 id="本地端口开放检测"><a href="#本地端口开放检测" class="headerlink" title="本地端口开放检测"></a>本地端口开放检测</h3><p>e.g. socket的一些管理缺陷，查找端口，连接端口，获取验证码信息</p>
<h3 id="外部动态加载DEX安全风险"><a href="#外部动态加载DEX安全风险" class="headerlink" title="外部动态加载DEX安全风险"></a>外部动态加载DEX安全风险</h3><ol>
<li><p>风险位置:<br>public DexClassLoader(String dexPath,String optimizedDirectory, String libraryPath, ClassLoader parent)</p>
</li>
<li><p>查看 AndroidManifest.xml 包 package 值相对应路径下的文件中是否含有DexClassLoader()函数调用</p>
</li>
</ol>
<h2 id="Android应用渗透测试——通信安全"><a href="#Android应用渗透测试——通信安全" class="headerlink" title="Android应用渗透测试——通信安全"></a>Android应用渗透测试——通信安全</h2><h3 id="抓包"><a href="#抓包" class="headerlink" title="抓包"></a>抓包</h3><ol>
<li>http协议 </li>
<li>https协议</li>
<li>校验不严格</li>
<li>双向校验</li>
<li>其他协议</li>
</ol>
<p>应用程序可能会有设置，防止被抓包</p>
<h3 id="http协议"><a href="#http协议" class="headerlink" title="http协议"></a>http协议</h3><p>比较常规的，Android设置代理，BP抓包</p>
<p>参考教程：<a href="https://blog.kali-team.cn/2019/02/14/Genymotion%E8%AE%BE%E7%BD%AE%E4%BB%A3%E7%90%86%E8%87%B3BurpSuite%E5%92%8CCharles/" target="_blank" rel="noopener">链接</a></p>
<h3 id="https"><a href="#https" class="headerlink" title="https"></a>https</h3><p>抓https包需要设置证书，Android7.0以上需要把证书安装在系统上，7.0以下..[TODO]</p>
<h4 id="证书未校验"><a href="#证书未校验" class="headerlink" title="证书未校验"></a>证书未校验</h4><h4 id="证书部分校验"><a href="#证书部分校验" class="headerlink" title="证书部分校验"></a>证书部分校验</h4><h4 id="https双向校验-TODO"><a href="#https双向校验-TODO" class="headerlink" title="https双向校验[TODO]"></a>https双向校验[TODO]</h4><ol>
<li><p>单向认证<br><img src="https://image-host-toky.oss-cn-shanghai.aliyuncs.com/20200113154905.png"></p>
</li>
<li><p>双向认证<br>增加了服务端认证客户端的过程，添加第4步<br><img src="https://image-host-toky.oss-cn-shanghai.aliyuncs.com/20200113154924.png"></p>
</li>
<li><p>步骤</p>
</li>
</ol>
<ul>
<li>找到证书导入到burp</li>
<li>寻找包里的证书库文件（敏感信息泄漏）</li>
<li>尝试证书转换</li>
</ul>
<hr>
<ul>
<li>找到证书库文件</li>
<li>找到证书库密码</li>
<li>把密码导入（尝试证书转换）</li>
</ul>
<h4 id="扩展-1"><a href="#扩展-1" class="headerlink" title="扩展-1"></a>扩展-1</h4><p>扩：漏洞，不是攻击点，通常都是攻击链<br>扩：使用<code>Everything</code>工具，添加到右键，方便搜索文件（Windows）<br>扩：证书管理工具<code>Portecle</code><br>扩：使用所有手段都没有抓到包，该怎么办？[TODO，老师私货，重要]<br>使用aptables进行流量转发</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iptables -t nat -A OUTPUT -p tcp -dport 目标端口 -j DANT --to burpip和端口</span><br></pre></td></tr></table></figure>

<h3 id="移动应用数据包常见加密形式"><a href="#移动应用数据包常见加密形式" class="headerlink" title="移动应用数据包常见加密形式"></a>移动应用数据包常见加密形式</h3><h4 id="明文数据包"><a href="#明文数据包" class="headerlink" title="明文数据包"></a>明文数据包</h4><p>e.g. 参数 info整个不加密</p>
<h4 id="参数值加密"><a href="#参数值加密" class="headerlink" title="参数值加密"></a>参数值加密</h4><p>e.g. 参数 info后面的值加密</p>
<h4 id="POST-BODY加密"><a href="#POST-BODY加密" class="headerlink" title="POST BODY加密"></a>POST BODY加密</h4><p>e.g. post的所有数据都加密</p>
<h4 id="参数序列化"><a href="#参数序列化" class="headerlink" title="参数序列化"></a>参数序列化</h4><h4 id="Response加密"><a href="#Response加密" class="headerlink" title="Response加密"></a>Response加密</h4><h3 id="定位关键代码"><a href="#定位关键代码" class="headerlink" title="定位关键代码"></a>定位关键代码</h3><h4 id="静态分析"><a href="#静态分析" class="headerlink" title="静态分析"></a>静态分析</h4><p>重点是：定位关键字</p>
<ol>
<li><p>关键字——搜索参数[key]<br>[key]：需要关注的参数<br>使用双引号, “&amp;”, “=”等字符，辅助定位 </p>
</li>
<li><p>关键字——搜索接口<br>以接口作为关键字全局搜索 目录、接口、双引号辅助搜索</p>
</li>
<li><p>关键字——搜索header<br>用header中各种标志性的字符做关键字 全局搜索<br>HOST、标志性的head字符<br>e.g. okhttp/3.8.0</p>
</li>
<li><p>关键字——搜索加密算法<br>AES、RSA、DES、SM（国密，2020年刚开始实行）等常见加密算法做为关键字，用双引号、/等符号辅助,精确定位</p>
</li>
<li><p>关键字——从日志中获取关键字<br>Logcat中获取现成的关键字，传输的信息可能加密，但日志信息（开发时方便调试所开启的）没有加密。</p>
</li>
<li><p>Javascript加密<br><img src="https://image-host-toky.oss-cn-shanghai.aliyuncs.com/20200113162245.png"></p>
</li>
</ol>
<h4 id="扩展-2"><a href="#扩展-2" class="headerlink" title="扩展-2"></a>扩展-2</h4><ol>
<li>使用Xpose插件：Inspeckage，直接在Xpose软件里下载</li>
</ol>
<h2 id="Android应用渗透测试——业务安全"><a href="#Android应用渗透测试——业务安全" class="headerlink" title="Android应用渗透测试——业务安全"></a>Android应用渗透测试——业务安全</h2><ol>
<li>二维码不校验  </li>
<li>url跳转  </li>
<li>任意文件读取</li>
</ol>
<p>不具体展开，和Web业务安全同样的。</p>
<h2 id="如何找客户端漏洞？"><a href="#如何找客户端漏洞？" class="headerlink" title="如何找客户端漏洞？"></a>如何找客户端漏洞？</h2><p>都在上述的知识点中</p>
<h2 id="Android应用渗透测试——应用调试"><a href="#Android应用渗透测试——应用调试" class="headerlink" title="Android应用渗透测试——应用调试"></a>Android应用渗透测试——应用调试</h2><h3 id="调试Smali"><a href="#调试Smali" class="headerlink" title="调试Smali"></a>调试Smali</h3><p>[TODO]</p>
<h3 id="调试native"><a href="#调试native" class="headerlink" title="调试native"></a>调试native</h3><ol>
<li><p>找到native方法<br><img src="https://image-host-toky.oss-cn-shanghai.aliyuncs.com/20200113171058.png"></p>
</li>
<li><p>找到.so文件<br><img src="https://image-host-toky.oss-cn-shanghai.aliyuncs.com/20200113171136.png"></p>
</li>
<li><p>IDA Pro 打开<br>发现export处[TODO]<br><img src="https://image-host-toky.oss-cn-shanghai.aliyuncs.com/20200113171301.png"></p>
</li>
</ol>
<p>中文乱码设置：<br>alt + a，然后进行如下设置<br><img src="https://image-host-toky.oss-cn-shanghai.aliyuncs.com/20200113171434.png" style="zoom:50%;" /></p>
<ol start="4">
<li><p>使用IDA Pro进行分析</p>
</li>
<li><p>push android_x86_server 到 data/local/tmp<br><img src="https://image-host-toky.oss-cn-shanghai.aliyuncs.com/20200113171926.png"></p>
</li>
</ol>
<h3 id="分析点"><a href="#分析点" class="headerlink" title="分析点"></a>分析点</h3><p>在输入的参数（比如用户名、密码）处下断点，通过查看运行时信息（终端显示的），分析其加密方式。不仅如此，证书校验等都可以使用这个动态调试的方法。</p>
<h2 id="移动应用程序渗透测试框架使用"><a href="#移动应用程序渗透测试框架使用" class="headerlink" title="移动应用程序渗透测试框架使用"></a>移动应用程序渗透测试框架使用</h2><h3 id="Xposed框架"><a href="#Xposed框架" class="headerlink" title="Xposed框架"></a>Xposed框架</h3><h4 id="安装及配置"><a href="#安装及配置" class="headerlink" title="安装及配置"></a>安装及配置</h4><p>[TODO]</p>
<h4 id="Xposed运行原理-TODO"><a href="#Xposed运行原理-TODO" class="headerlink" title="Xposed运行原理[TODO]"></a>Xposed运行原理[TODO]</h4><ol>
<li>Dalvik虚拟机在执行java层代码时如何识别JNI方法? </li>
</ol>
<ul>
<li>类型标识（accessFlags）<img src="https://image-host-toky.oss-cn-shanghai.aliyuncs.com/20200113173105.png" style="zoom: 50%;" /></li>
<li>过程<img src="https://image-host-toky.oss-cn-shanghai.aliyuncs.com/20200113173028.png" style="zoom: 33%;" />
</li>
</ul>
<ol start="2">
<li>怎样才能将java层普通方法注册成JNI方法?</li>
<li>Xposed框架做了什么?</li>
</ol>
<h4 id="如何写一个Xposed插件-TODO"><a href="#如何写一个Xposed插件-TODO" class="headerlink" title="如何写一个Xposed插件[TODO]"></a>如何写一个Xposed插件[TODO]</h4><ol>
<li><p>打开AS在项目app目录下新建lib目录并将XposedBridgeApi-54.jar放到lib目录下 右键Add As Library将 jar包添加进依赖。</p>
</li>
<li><p>打开app目录下的build.gradle 将<br>compile files(‘lib/XposedBridgeApi-54.jar’)<br>更改为<br>compileOnly files(‘lib/XposedBridgeApi-54.jar’)</p>
</li>
<li><p>打开项目分支src/main目录下的AndroidManifest.xml 在application标签里面添加内容</p>
</li>
<li><p>新建Hook入口类HookMain 实 现 xposed的接的IXposedHookLoadPackage 并重写方法 handleLoadPackage ，这个写法格式是固定的。</p>
</li>
<li><p>在src/main/assets下新建文件xposed_init并将HookMain类并将hook的主入口类以包名+类名的格式写进去。<br>com.example.myapplication.HookMain</p>
</li>
</ol>
<h3 id="Frida框架-TODO"><a href="#Frida框架-TODO" class="headerlink" title="Frida框架[TODO]"></a>Frida框架[TODO]</h3><p>Frida是一个动态代码执行工具包。<br>通过Frida你可以把一段JavaScript注入到一个进程中去，或者把一个动态库加载到另一个进程中去，并且 Frida 是跨平台的，也就是说，你可以对Windows, macOS, GNU/Linux, iOS, Android以及QNX系统上的进程进行上述操作。</p>
<h4 id="Frida实验1——破解登入密码"><a href="#Frida实验1——破解登入密码" class="headerlink" title="Frida实验1——破解登入密码"></a>Frida实验1——破解登入密码</h4><h4 id="Frida实验2——解密"><a href="#Frida实验2——解密" class="headerlink" title="Frida实验2——解密"></a>Frida实验2——解密</h4><h4 id="扩展-1-1"><a href="#扩展-1-1" class="headerlink" title="扩展-1"></a>扩展-1</h4><p>注意：安装Frida时，一定要安装Frida tools</p>

  </div>
</article>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="/tags">Tags</a></li>
         
          <li><a href="/categories">Categories</a></li>
         
          <li><a href="https://y1ng.cc/" target="_blank" rel="noopener">BBS</a></li>
         
          <li><a href="https://y1ng.org/TheRoadOfSO/">安全运营之路</a></li>
         
          <li><a href="/atom.xml">RSS</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#移动应用程序渗透"><span class="toc-number">1.</span> <span class="toc-text">移动应用程序渗透</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Android系统架构与运行机制"><span class="toc-number">1.1.</span> <span class="toc-text">Android系统架构与运行机制</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Android运行机制"><span class="toc-number">1.2.</span> <span class="toc-text">Android运行机制</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Android应用渗透测试与调试"><span class="toc-number">2.</span> <span class="toc-text">Android应用渗透测试与调试</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#工具使用"><span class="toc-number">2.0.1.</span> <span class="toc-text">工具使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#文件格式"><span class="toc-number">2.0.2.</span> <span class="toc-text">文件格式</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Android应用渗透测试——客户端数据安全"><span class="toc-number">2.1.</span> <span class="toc-text">Android应用渗透测试——客户端数据安全</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#安装包签名校验"><span class="toc-number">2.1.1.</span> <span class="toc-text">安装包签名校验</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#如何校验"><span class="toc-number">2.1.1.1.</span> <span class="toc-text">如何校验</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#客户端程序保护"><span class="toc-number">2.1.2.</span> <span class="toc-text">客户端程序保护</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#反编译为Java代码"><span class="toc-number">2.1.2.1.</span> <span class="toc-text">反编译为Java代码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#反编译为smali代码"><span class="toc-number">2.1.2.2.</span> <span class="toc-text">反编译为smali代码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#如何阅读smali代码"><span class="toc-number">2.1.2.3.</span> <span class="toc-text">如何阅读smali代码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#应用完整性校验"><span class="toc-number">2.1.2.4.</span> <span class="toc-text">应用完整性校验</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Android应用渗透测试——组件安全"><span class="toc-number">2.2.</span> <span class="toc-text">Android应用渗透测试——组件安全</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#判断组件的可导出性"><span class="toc-number">2.2.1.</span> <span class="toc-text">判断组件的可导出性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#使用Drozer对四大组件进行组件攻击"><span class="toc-number">2.2.2.</span> <span class="toc-text">使用Drozer对四大组件进行组件攻击</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#工具：drozer"><span class="toc-number">2.2.2.1.</span> <span class="toc-text">工具：drozer</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Activity"><span class="toc-number">2.2.2.2.</span> <span class="toc-text">Activity</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Service"><span class="toc-number">2.2.2.3.</span> <span class="toc-text">Service</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Broadcast-Reciever（广播接收器）"><span class="toc-number">2.2.2.4.</span> <span class="toc-text">Broadcast Reciever（广播接收器）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Content-Provider"><span class="toc-number">2.2.2.5.</span> <span class="toc-text">Content Provider</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#原理和4种拒绝服务攻击"><span class="toc-number">2.2.2.6.</span> <span class="toc-text">原理和4种拒绝服务攻击</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#扩展"><span class="toc-number">2.2.2.7.</span> <span class="toc-text">扩展</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Android应用渗透测试——WebView"><span class="toc-number">2.3.</span> <span class="toc-text">Android应用渗透测试——WebView</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#WebView-任意代码执行"><span class="toc-number">2.3.1.</span> <span class="toc-text">WebView 任意代码执行</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#WebView-密码明文存储"><span class="toc-number">2.3.2.</span> <span class="toc-text">WebView 密码明文存储</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#WebView-域控制不严格"><span class="toc-number">2.3.3.</span> <span class="toc-text">WebView 域控制不严格</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Android应用渗透测试——敏感信息安全"><span class="toc-number">2.4.</span> <span class="toc-text">Android应用渗透测试——敏感信息安全</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#检查配置文件"><span class="toc-number">2.4.1.</span> <span class="toc-text">检查配置文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#检查客户端程序包-APK-中是否保存有敏感信息"><span class="toc-number">2.4.2.</span> <span class="toc-text">检查客户端程序包(APK)中是否保存有敏感信息</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Android应用渗透测试——进程安全"><span class="toc-number">2.5.</span> <span class="toc-text">Android应用渗透测试——进程安全</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#内存访问和修改"><span class="toc-number">2.5.1.</span> <span class="toc-text">内存访问和修改</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#本地端口开放检测"><span class="toc-number">2.5.2.</span> <span class="toc-text">本地端口开放检测</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#外部动态加载DEX安全风险"><span class="toc-number">2.5.3.</span> <span class="toc-text">外部动态加载DEX安全风险</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Android应用渗透测试——通信安全"><span class="toc-number">2.6.</span> <span class="toc-text">Android应用渗透测试——通信安全</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#抓包"><span class="toc-number">2.6.1.</span> <span class="toc-text">抓包</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#http协议"><span class="toc-number">2.6.2.</span> <span class="toc-text">http协议</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#https"><span class="toc-number">2.6.3.</span> <span class="toc-text">https</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#证书未校验"><span class="toc-number">2.6.3.1.</span> <span class="toc-text">证书未校验</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#证书部分校验"><span class="toc-number">2.6.3.2.</span> <span class="toc-text">证书部分校验</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#https双向校验-TODO"><span class="toc-number">2.6.3.3.</span> <span class="toc-text">https双向校验[TODO]</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#扩展-1"><span class="toc-number">2.6.3.4.</span> <span class="toc-text">扩展-1</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#移动应用数据包常见加密形式"><span class="toc-number">2.6.4.</span> <span class="toc-text">移动应用数据包常见加密形式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#明文数据包"><span class="toc-number">2.6.4.1.</span> <span class="toc-text">明文数据包</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#参数值加密"><span class="toc-number">2.6.4.2.</span> <span class="toc-text">参数值加密</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#POST-BODY加密"><span class="toc-number">2.6.4.3.</span> <span class="toc-text">POST BODY加密</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#参数序列化"><span class="toc-number">2.6.4.4.</span> <span class="toc-text">参数序列化</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Response加密"><span class="toc-number">2.6.4.5.</span> <span class="toc-text">Response加密</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#定位关键代码"><span class="toc-number">2.6.5.</span> <span class="toc-text">定位关键代码</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#静态分析"><span class="toc-number">2.6.5.1.</span> <span class="toc-text">静态分析</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#扩展-2"><span class="toc-number">2.6.5.2.</span> <span class="toc-text">扩展-2</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Android应用渗透测试——业务安全"><span class="toc-number">2.7.</span> <span class="toc-text">Android应用渗透测试——业务安全</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#如何找客户端漏洞？"><span class="toc-number">2.8.</span> <span class="toc-text">如何找客户端漏洞？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Android应用渗透测试——应用调试"><span class="toc-number">2.9.</span> <span class="toc-text">Android应用渗透测试——应用调试</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#调试Smali"><span class="toc-number">2.9.1.</span> <span class="toc-text">调试Smali</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#调试native"><span class="toc-number">2.9.2.</span> <span class="toc-text">调试native</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#分析点"><span class="toc-number">2.9.3.</span> <span class="toc-text">分析点</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#移动应用程序渗透测试框架使用"><span class="toc-number">2.10.</span> <span class="toc-text">移动应用程序渗透测试框架使用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Xposed框架"><span class="toc-number">2.10.1.</span> <span class="toc-text">Xposed框架</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#安装及配置"><span class="toc-number">2.10.1.1.</span> <span class="toc-text">安装及配置</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Xposed运行原理-TODO"><span class="toc-number">2.10.1.2.</span> <span class="toc-text">Xposed运行原理[TODO]</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#如何写一个Xposed插件-TODO"><span class="toc-number">2.10.1.3.</span> <span class="toc-text">如何写一个Xposed插件[TODO]</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Frida框架-TODO"><span class="toc-number">2.10.2.</span> <span class="toc-text">Frida框架[TODO]</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Frida实验1——破解登入密码"><span class="toc-number">2.10.2.1.</span> <span class="toc-text">Frida实验1——破解登入密码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Frida实验2——解密"><span class="toc-number">2.10.2.2.</span> <span class="toc-text">Frida实验2——解密</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#扩展-1-1"><span class="toc-number">2.10.2.3.</span> <span class="toc-text">扩展-1</span></a></li></ol></li></ol></li></ol></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=https://y1ng.org/2020/01/13/articles/2020/01/13/1578910728428.html/" target="_blank" rel="noopener"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=https://y1ng.org/2020/01/13/articles/2020/01/13/1578910728428.html/&text=移动应用程序渗透" target="_blank" rel="noopener"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https://y1ng.org/2020/01/13/articles/2020/01/13/1578910728428.html/&title=移动应用程序渗透" target="_blank" rel="noopener"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https://y1ng.org/2020/01/13/articles/2020/01/13/1578910728428.html/&is_video=false&description=移动应用程序渗透" target="_blank" rel="noopener"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=移动应用程序渗透&body=Check out this article: https://y1ng.org/2020/01/13/articles/2020/01/13/1578910728428.html/"><i class="fas fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=https://y1ng.org/2020/01/13/articles/2020/01/13/1578910728428.html/&title=移动应用程序渗透" target="_blank" rel="noopener"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=https://y1ng.org/2020/01/13/articles/2020/01/13/1578910728428.html/&title=移动应用程序渗透" target="_blank" rel="noopener"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=https://y1ng.org/2020/01/13/articles/2020/01/13/1578910728428.html/&title=移动应用程序渗透" target="_blank" rel="noopener"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=https://y1ng.org/2020/01/13/articles/2020/01/13/1578910728428.html/&title=移动应用程序渗透" target="_blank" rel="noopener"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=https://y1ng.org/2020/01/13/articles/2020/01/13/1578910728428.html/&name=移动应用程序渗透&description=" target="_blank" rel="noopener"><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://news.ycombinator.com/submitlink?u=https://y1ng.org/2020/01/13/articles/2020/01/13/1578910728428.html/&t=移动应用程序渗透" target="_blank" rel="noopener"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy; 2020 Toky
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="/tags">Tags</a></li>
         
          <li><a href="/categories">Categories</a></li>
         
          <li><a href="https://y1ng.cc/" target="_blank" rel="noopener">BBS</a></li>
         
          <li><a href="https://y1ng.org/TheRoadOfSO/">安全运营之路</a></li>
         
          <li><a href="/atom.xml">RSS</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->

<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">


<link rel="stylesheet" href="/lib/justified-gallery/css/justifiedGallery.min.css">


    <!-- jquery -->

<script src="/lib/jquery/jquery.min.js"></script>


<script src="/lib/justified-gallery/js/jquery.justifiedGallery.min.js"></script>

<!-- clipboard -->

  
<script src="/lib/clipboard/clipboard.min.js"></script>

  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"Copy to clipboard!\">";
    btn += '<i class="far fa-clone"></i>';
    btn += '</span>'; 
    // mount it!
    $(".highlight .code pre").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      target: function(trigger) {
        return trigger.nextElementSibling;
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "Copied!");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Google Analytics -->

    <script type="text/javascript">
        (function(i,s,o,g,r,a,m) {i['GoogleAnalyticsObject']=r;i[r]=i[r]||function() {
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-157954403-1', 'auto');
        ga('send', 'pageview');
    </script>

<!-- Baidu Analytics -->

<!-- Disqus Comments -->


</body>
</html>
